---
title:  "[java,ë°±ì¤€14889]ìŠ¤íƒ€íŠ¸ì™€ ë§í¬ - ì¡°í•©ì„ í™œìš©í•œ íŒ€ ë¶„ë°° ë¬¸ì œ"
categories : [BaekjoonTest]
tag : [ë°±ì¤€, ì•Œê³ ë¦¬ì¦˜, DFS, ì¡°í•©, êµ¬í˜„]
toc: true
toc_sticky: true
author_profile: false
sidebar:
   nav: "docs"
typora-root-url: ../../..
---



**DFSë¥¼ í™œìš©í•˜ì—¬ Nëª…ì„ ë‘ íŒ€ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ê° íŒ€ì˜ ëŠ¥ë ¥ì¹˜ ì°¨ì´ì˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.**

**[ìŠ¤íƒ€íŠ¸ì™€ ë§í¬(ë°±ì¤€14889)](https://www.acmicpc.net/problem/14889)**

<br>

**ë³µì¡í•œ ì˜ˆì‹œë¥¼ ì‹œê°í™” í•´ë³´ì**

```text
ì˜ˆì‹œ ì‹œê°í™”:
N=6ì¼ ë•Œ íŒ€ ë¶„ë°° ê³¼ì •

ëŠ¥ë ¥ì¹˜ ë°°ì—´ S:
0 1 2 3 4 5
1 0 2 3 4 5
1 2 0 3 4 5
1 2 3 0 4 5
1 2 3 4 0 5
1 2 3 4 5 0

íŒ€ ë¶„ë°° ì˜ˆì‹œ:
ìŠ¤íƒ€íŠ¸íŒ€(1, 3, 6) vs ë§í¬íŒ€(2, 4, 5)
ìŠ¤íƒ€íŠ¸íŒ€ ëŠ¥ë ¥ì¹˜: 
* S13 + S31 = 3
* S36 + S63 = 8
* S16 + S61 = 6
ë§í¬íŒ€ ëŠ¥ë ¥ì¹˜: 
* S24 + S42 = 5
* S45 + S54 = 8
* S25 + S52 = 6
ì°¨ì´(ì •ë‹µ): |17 - 19| = 2
```

<br>

<br>

## í’€ì´

**êµ¬í˜„ ì‹œ ì£¼ì˜ì‚¬í•­**

ğŸ’¡ ë‘ ë²ˆì˜ ì¡°í•©ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤: <span style="color:#ff9300">**DFSë¡œ ë‘ ë‹¨ê³„ì˜ ì¡°í•©ì„ êµ¬í˜„í•˜ì—¬ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰**</span>í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„

1. Nëª… ì¤‘ N/2ëª…ì„ ì„ íƒí•˜ì—¬ íŒ€ ë‚˜ëˆ„ê¸°
2. ê° íŒ€ì—ì„œ 2ëª…ì”© ì„ íƒí•˜ì—¬ ëŠ¥ë ¥ì¹˜ ê³„ì‚°

<br>

**í•µì‹¬ êµ¬í˜„ ì‚¬í•­**

- ë‘ ë²ˆì˜ ì¡°í•©
  - Nê°œ ì¤‘ N/2ê°œë¥¼ ì„ íƒí•˜ëŠ” ì¡°í•© -> íŒ€ ë‚˜ëˆ„ê¸°
  - ì„ íƒëœ N/2ê°œ ì¤‘ 2ê°œë¥¼ ì„ íƒí•˜ëŠ” ì¡°í•© -> ê° íŒ€ì˜ ëŠ¥ë ¥ì¹˜ ê³„ì‚°

- ëŠ¥ë ¥ì¹˜ ì°¨ì´ì˜ ìµœì†Ÿê°’ ê°±ì‹ 

<br>

**íŒ€ ë‚˜ëˆ„ê¸° DFS**

- `linkTeam()` ì˜ ê²½ìš° start íŒ€ì´ ì•„ë‹Œ íŒ€ìœ¼ë¡œ ì¡°ê±´ë¬¸ ì‚¬ìš©í•˜ì—¬ í• ë‹¹í•˜ë©´ ë¨

```java
static void dfs(int depth, int idx) {
    if (depth == N/2) {
        linkTeam();
        sum = new int[2];
        startDfs(0,0);
        linkDfs(0,0);
        result = Math.min(result, Math.abs(sum[0] - sum[1]));
        return;
    }
    for (int i = idx; i < N; i++) {
        start[depth] = i;
        dfs(depth + 1, i + 1);
    }
}
```

<br>

**ëŠ¥ë ¥ì¹˜ ê³„ì‚° DFS**

```java
static void startDfs(int depth, int idx) {
    if (depth == 2) {
        int i = selectS[0], j = selectS[1];
        sum[0] += S[i][j] + S[j][i];
        return;
    }
    for (int i = idx; i < N/2; i++) {
        selectS[depth] = start[i];
        startDfs(depth + 1, i + 1);
    }
}
```

<br>

<br>

## ì „ì²´ ì½”ë“œ

```java
package newnew;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

/**
 * íŒ€ë‚˜ëˆ„ê¸°ê°€ í•µì‹¬
 *  * íƒ€ì…ì¡°ì‹¬, ì¢Œí‘œì¡°ì‹¬
 *  * 1. íŒ€ë‚˜ëˆ„ê¸° -> ì¬ê·€ (Nê°œ ì¤‘ N/2ê°œ íƒ)
 *  *  * ì¬ê·€ì˜ ê²½ìš° ì¡°í•©: N_C_N/2
 *  * 2. ê³„ì‚°í•˜ê¸° -> 2ì¤‘ for ë˜ëŠ” ì¬ê·€ (N/2ê°œ ì¤‘ 2ê°œ íƒ)
 *  *  * ì¬ê·€ì˜ ê²½ìš° ì¡°í•©: N/2_C_2
 */
public class ìŠ¤íƒ€íŠ¸ì™€ë§í¬_14889 {
  static int N;
  static int[][] S;
  static int[] start;
  static int[] link;
  static int result = Integer.MAX_VALUE;
  static int[] selectS = new int[2];
  static int[] sum = new int[2];

  /*
  ë§Œì•½ startDfsë¥¼ forë¬¸ìœ¼ë¡œ í•œë‹¤ë©´? ì´ëŸ°ì‹
  int cal1 = 0;
  for(int i=0; i<(N/2)-1; i++) {
    for(int j=i+1; j<N/2; j++) {
      int idx1 = outArr[i]-1;
      int idx2 = outArr[j]-1;
      cal1 += inArr[idx1][idx2] + inArr[idx2][idx1];
    }
  }
   */

  static void startDfs(int depth, int idx) {
    if (depth == 2) {
      int i=selectS[0]; int j=selectS[1];
      sum[0]+=S[i][j]+S[j][i];
      return;
    }
    for (int i = idx; i < N / 2; i++) {
      selectS[depth]=start[i];
      startDfs(depth+1, i+1);
    }
  }
  static void linkDfs(int depth, int idx) {
    if (depth == 2) {
      int i=selectS[0]; int j=selectS[1];
      sum[1]+=S[i][j]+S[j][i];
      return;
    }
    for (int i = idx; i < N / 2; i++) {
      selectS[depth]=link[i];
      linkDfs(depth+1, i+1);
    }
  }

  //ì¡°í•©1: ì „ì²´ Nê°œ ì¤‘ N/2ê°œ ì„ íƒ
  static void dfs(int depth, int idx) {
    if (depth == N/2) {
      //link íŒ€ ê²°ì • -> start ì•„ë‹Œ ë©¤ë²„ë“¤ë¡œ
      linkTeam();
      //ê° íŒ€ë³„ Sê°’ ê³„ì‚°
      sum=new int[2];
      startDfs(0,0); //ì¡°í•©2: ì „ì²´ N/2ê°œ ì¤‘ 2ê°œ ì„ íƒ
      linkDfs(0, 0);
      result = Math.min(result, Math.abs(sum[0] - sum[1]));
      return;
    }
    for (int i = idx; i < N; i++) {
      start[depth] = i;
      dfs(depth + 1, i + 1);
    }
  }

  private static void linkTeam() {
    int idx=0;
    for (int i = 0; i < N; i++) {
      boolean check = false;
      for (int j = 0; j < N / 2; j++) {
        if (start[j] == i) {
          check = true;
        }
      }
      if(check) continue;
      link[idx++]=i;
    }
  }

  public static void main(String[] args) throws IOException {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    N = Integer.parseInt(br.readLine());
    S = new int[N + 1][N + 1];
    start = new int[N/2];
    link = new int[N/2];
    for (int i = 0; i < N; i++) {
      StringTokenizer stk = new StringTokenizer(br.readLine(), " ");
      for (int j = 0; j < N; j++) {
        S[i][j] = Integer.parseInt(stk.nextToken());
      }
    }
    dfs(0, 0);
    System.out.println(result);
  }
}
```

*<span style="color:#777777">ì£¼ê´€ì ì¸ ìƒê°ì˜ í’€ì´ì´ë¯€ë¡œ í‹€ë¦° ë¶€ë¶„ ì§€ì ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤âš¡</span>*
